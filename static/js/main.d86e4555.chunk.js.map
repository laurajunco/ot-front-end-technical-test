{"version":3,"sources":["BarChart.js","Row.js","DataTable.js","App.js","serviceWorker.js","index.js"],"names":["D3Component","props","ref","React","createRef","element","this","current","MARGIN","width","getBoundingClientRect","height","buckets","console","log","g","d3","append","attr","y","range","domain","x","Object","keys","padding","xAxisCall","selectAll","data","entries","enter","d","bandwidth","yAxisCall","call","className","Component","Row","state","open","renderDataViz","bind","setState","Grid","container","spacing","item","xs","association_score","datatypes","Fragment","TableRow","TableCell","IconButton","aria-label","size","onClick","setOpen","color","target","gene_info","symbol","id","name","overall","style","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","margin","DataTable","handleChangePage","event","newPage","page","rowsPerPage","sort","a","b","descending","slice","map","key","TableContainer","component","Paper","Table","TableHead","TableBody","renderRows","TableFooter","TablePagination","rowsPerPageOptions","count","length","onChangePage","App","error","isLoaded","fetch","then","res","json","result","message","Typography","variant","gutterBottom","renderDataTable","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d86e4555.chunk.js","sourcesContent":["import React , {Component} from 'react';\nimport * as d3 from 'd3'\n\nexport default class D3Component extends Component {\n    constructor(props){\n        super(props)\n        this.ref = React.createRef();\n    }\n\n    componentDidMount(){\n      let element = this.ref.current;\n      let MARGIN = { TOP: 30, BOTTOM: 50, LEFT: 50, RIGHT: 30 }\n      let width = element.getBoundingClientRect().width - MARGIN.LEFT - MARGIN.RIGHT\n      let height = width - MARGIN.TOP - MARGIN.BOTTOM\n      let buckets = this.props.buckets;\n\n      console.log(buckets);\n      \n      let g = d3.select(element)\n        .append(\"svg\")\n          .attr(\"width\", width + MARGIN.LEFT + MARGIN.RIGHT)\n          .attr(\"height\", height + MARGIN.TOP + MARGIN.BOTTOM)\n        .append(\"g\")\n                  .attr(\"transform\", `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`)\n                  .attr(\"class\", \"bar\");\n\n      // //scales\n      let y = d3.scaleLinear()\n        .range([height, 0])\n        .domain([0,1])\n\n      let x = d3.scaleBand()\n        .range([0, width])\n        .domain(Object.keys(buckets))\n        .padding(0.2);\n\n      //rects\n      let rects = g.selectAll(\"rect\")\n        .data(Object.entries(this.props.buckets))\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", d => x(d[0]))\n        .attr(\"width\", x.bandwidth)\n        .attr(\"fill\", \"#3f51b5\")\n        .attr(\"y\", d => y(d[1]))\n        .attr(\"height\", d => height - y(d[1]))\n\n      //axis\n      let xAxisCall = d3.axisBottom(x);\n      let yAxisCall = d3.axisLeft(y);\n\n      let xAxisGroup = g.append(\"g\")\n        .attr(\"transform\", `translate(0, ${height})`)\n        .call(xAxisCall); \n\n      let yAxisGroup = g.append(\"g\")\n        .call(yAxisCall)\n\n    }\n\n    render(){\n        return(\n          <div ref={this.ref} className=\"bar-chart\">\n          </div>\n        )\n    }\n}","import React, { Component } from 'react';\nimport Box from '@material-ui/core/Box';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport AddIcon from '@material-ui/icons/Add';\nimport BarChart from './BarChart';\nimport Grid from '@material-ui/core/Grid';\n\nclass Row extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: props.data,\n      open: false\n    };\n\n    this.renderDataViz = this.renderDataViz.bind(this);\n  }\n\n  setOpen(open) {\n    this.setState({\n      open: open\n    })\n  } \n\n  renderDataViz() {\n    const data = this.state.data\n    if (this.state.open) {\n      return(\n        <Grid container spacing={2}>\n          <Grid item xs={6}>\n            <BarChart buckets={data.association_score.datatypes}/>\n          </Grid>\n          <Grid item xs={6}>\n            {/* <BarChart buckets={data.association_score.datatypes}/> */}\n          </Grid>\n        </Grid>\n      )\n    } else {\n      return <div>No data yet</div>\n    }\n  \n  }\n  \n  render() {\n    const data = this.state.data\n    return(\n      <React.Fragment>\n      <TableRow className=\"target\">\n        <TableCell>\n          <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => this.setOpen(!this.state.open)}>\n            {this.state.open ? <RemoveIcon color=\"primary\"/> : <AddIcon color=\"primary\"/> }\n          </IconButton>\n        </TableCell>\n        <TableCell>{data.target.gene_info.symbol}</TableCell>\n        <TableCell>{data.id}</TableCell>\n        <TableCell>{data.target.gene_info.name}</TableCell>\n        <TableCell>{data.association_score.overall}</TableCell>\n      </TableRow>\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={12}>\n          <Collapse in={this.state.open} timeout=\"auto\" unmountOnExit>\n            <Box margin={1}>\n              {this.renderDataViz}\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </React.Fragment>\n\n    )\n  }\n}\n\nexport default Row;\n","import React, { Component } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Row from './Row'\nimport TableFooter from '@material-ui/core/TableFooter';\nimport { TablePagination } from '@material-ui/core';\nimport {descending} from \"d3-array\";\n\n\nclass DataTable extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: props.data,\n      page: 0,\n      rowsPerPage: 5\n    };\n  }\n\n  handleChangePage = (event, newPage) => {\n    this.setState({\n      page:newPage\n    });\n  };\n\n  renderRows() {\n    const page = this.state.page;\n    const rowsPerPage = this.state.rowsPerPage\n    const data = this.state.data\n    data.sort((a, b) => descending(a.association_score.overall, b.association_score.overall));\n\n    return(\n      data.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(d => {\n        return(<Row data={d} key={d.id}/>)\n      })\n    )\n  }\n\n  render() {\n  \n    return(\n      <TableContainer component={Paper}>\n        <Table aria-label=\"collapsible table\">\n\n          <TableHead>\n            <TableRow>\n              <TableCell />\n              <TableCell>Symbol</TableCell>\n              <TableCell>Gene ID</TableCell>\n              <TableCell>Gene Name</TableCell>\n              <TableCell>Overall Association Score</TableCell>\n            </TableRow>\n          </TableHead>\n\n          <TableBody>\n            {this.renderRows()}\n          </TableBody>\n\n          <TableFooter>\n            <TableRow>\n              <TablePagination\n                  rowsPerPageOptions={[this.state.rowsPerPage]}\n                  count={this.state.data.length}\n                  page={this.state.page}\n                  rowsPerPage={this.state.rowsPerPage}\n                  onChangePage={this.handleChangePage}\n              />\n            </TableRow>\n          </TableFooter>\n\n        </Table>\n    </TableContainer>\n    )\n  }\n}\n\nexport default DataTable;\n","import React, { Component } from 'react';\nimport \"./App.css\";\nimport DataTable from './DataTable';\nimport Typography from '@material-ui/core/Typography';\n\nclass App extends Component {\n\n  state = {\n    error: null,\n    isLoaded: false,\n    data: []\n  };\n\n  componentDidMount() {\n\n    fetch(\"https://demo6922545.mockable.io\")\n      .then(res => res.json())\n      .then(\n        (result) => {      \n          this.setState({\n            isLoaded: true,\n            data: result.data\n          });\n        },(error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n  }\n\n\n  renderDataTable() {\n    const { error, isLoaded, data} = this.state;\n    \n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Loading...</div>;\n    } else {\n      return (\n        <div>\n          <Typography variant=\"h4\" color=\"primary\" gutterBottom>\n            Genes associated with lung carcinoma\n          </Typography> \n          <DataTable data={data}/>\n        </div>\n      );\n    }\n  }\n  \n\n  render() {\n    return (\n      <div className=\"App\"> \n        {this.renderDataTable()}\n      </div>\n    )\n  }\n}\n\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}